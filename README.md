**# MLOps Foundations Project**

This repository demonstrates the foundational principles of MLOps, including CI/CD, experiment tracking, data versioning, hyperparameter tuning, and model deployment using a simple machine learning model with the IRIS dataset.

---

**## **Project Structure****

**### **Root Files****

- ********`README.md`********
  Provides an overview of the project, explaining the purpose, structure, and usage of each file.

- ********`.gitignore`********
  Specifies files and directories to be ignored by Git, such as environment files, logs, and DVC artifacts.

- ********`requirements.txt`********
  Contains the list of Python dependencies needed to run the project. Use the following command to install them:
  ```bash
  pip install -r requirements.txt

- ********`Dockerfile`********
  Defines the Docker image used to package the Flask app for model deployment. To build and run the container:

```bash
  docker build -t iris-flask-app .
  docker run -d -p 5000:5000 iris-flask-app
```

- ********`main.py`********
  A simple script to train and evaluate a baseline Random Forest model on the IRIS dataset.

- ********`hyperparameter_tuning.py`********
  Utilizes Optuna to perform hyperparameter tuning and identify the best parameters for the Random Forest model. Run it as:
  ```bash
  python hyperparameter_tuning.py

- ********`save_best_model.py`********
  Trains a Random Forest model using the best hyperparameters from hyperparameter_tuning.py and saves the trained model to **models/iris_model.pkl**.

**### **data/****

- ********`iris.csv`********
  The dataset used for training and testing the model. Versioned using DVC.
  To retrieve the latest version of the dataset:
  ```bash
  dvc pull

**### **models/****

- ********`iris_model.pkl`********
  The serialized machine learning model trained on the IRIS dataset using the best hyperparameters. This file is generated by **save_best_model.py**.


**### **tests/****
- ********`test_main.py`********
  Contains unit tests for verifying project functionality. These are executed during the CI/CD pipeline.

**### **Hidden Directories****
- ********`.github/workflows/`********

    **mlops-ci.yml**
    Defines the GitHub Actions workflow for CI/CD, including steps for linting, testing, and deployment. The workflow runs automatically on every push or pull request to the main branch.

**### **Flask Application****
- ********`app.py`********
  Serves the trained machine learning model via a REST API using Flask.
    Endpoint:
        POST /predict
        Accepts JSON input with feature values and returns the model's prediction. Example:

     ```bash
        curl -X POST -H "Content-Type: application/json" -d '{"features": [5.1, 3.5, 1.4, 0.2]}' http://127.0.0.1:5000/predict


**## **Setup Instructions****

1. Clone the Repository

    ```bash
    git clone https://github.com/2023aa05636/MLOps-Assignment_1-Group_20.git
    cd MLOps-Assignment_1-Group_20

2. Install Dependencies

    ```bash
    pip install -r requirements.txt

3. Set Up DVC

    - Initialize DVC:
        ```bash
        dvc init

    - Pull the dataset:
        ```bash
        dvc pull

4. Run the Project

    - Train and tune the model:
        ```bash
        python hyperparameter_tuning.py
        python save_best_model.py

5. Deploy the Flask app:
       
      ```bash 
        python app.py

6. Build and Run Docker (Optional)
    ```bash
    docker build -t iris-flask-app .
    docker run -d -p 5000:5000 iris-flask-app
    
    
7. Run the below curl command on terminal
      ```bash
         curl -X POST -H "Content-Type: application/json" -d '{"features": [5.1, 3.5, 1.4, 0.2]}' http://127.0.0.1:5000/predict
